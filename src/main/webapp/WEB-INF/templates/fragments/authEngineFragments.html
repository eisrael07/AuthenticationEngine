<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:fragment="HeaderFiles">
        <title>Authentication Engine</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link rel="icon" th:href="@{/images/tmsImage.png}"></link>
        <link rel="stylesheet" th:href="@{/css/fontawesome-free/css/all.min.css}"></link>
        <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"></link>
        <link rel="stylesheet" th:href="@{/css/icheck-bootstrap.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/adminlte.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/bootstrap-4.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/custom.css}"></link>
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet"></link>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"></link>
        <script th:inline="javascript">
            /*<![CDATA[*/
            var message = [[${alertMessage}
            ]];
            var messageType = [[${alertMessageClass
            }
            ]];
            var alertType = [[${alertDisplayType
            }
            ]];
            window.onload = function () {
            const Toast = Swal.mixin({
            toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timerProgressBar: true,
                    showCancelButton: true,
                    timer: 30000
            });
            if (message === "" || message === null || message === "null")
                    return;
            /*Sweet Alert with Swal*/
            if (alertType === "sweetSwal"){
            Swal.fire({
            icon: messageType,
                    title: message
            });
            }
            /*Sweet Alert with Toast*/
            if (alertType === "sweetToast")
                    Toast.fire({
                    icon: messageType,
                            title: message
                    });
            /*Alert with Toest*/
            if (alertType === "toastr"){
            if (messageType === "success"){
            toastr.success(alertMessage)
            };
            if (messageType === "info"){
            toastr.info(alertMessage)
            };
            if (messageType === "warning"){
            toastr.warning(alertMessage)
            };
            if (messageType === "error"){
            toastr.error(alertMessage)
            };
            }
            };
            /*]]>*/
        </script>
    </head>
    
    <head th:fragment="DashboadHeaderFiles">
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="x-ua-compatible" content="ie=edge"/>
        <title>Candor Setup</title>
        <link rel="icon" th:href="@{/images/tmsImage.png}"></link>
        <link rel="stylesheet" th:href="@{/css/fontawesome-free/css/all.min.css}"></link>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"></link>
        <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"></link>
        <link rel="stylesheet" th:href="@{/css/OverlayScrollbars.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/adminlte.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/custom.css}"></link>
        <link rel="stylesheet" th:href="@{/css/bootstrap-4.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/datatables.min.css}"></link>
        <link rel="stylesheet" th:href="@{/css/daterangepicker.css}"></link>
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet"></link>
        <script th:inline="javascript">
            /*<![CDATA[*/
            var message = [[${alertMessage}
            ]];
            var messageType = [[${alertMessageClass
            }
            ]];
            var alertType = [[${alertDisplayType
            }
            ]];
            window.onload = function () {
            const Toast = Swal.mixin({
            toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timerProgressBar: true,
                    showCancelButton: true
//                    timer: 30000
            });
            if (message === "" || message === null || message === "null")
                    return;
            /*Sweet Alert with Swal*/
            if (alertType === "sweetSwal"){
            Swal.fire({
            icon: messageType,
                    title: message
            });
            }
            /*Sweet Alert with Toast*/
            if (alertType === "sweetToast")
                    Toast.fire({
                    icon: messageType,
                            title: message
                    });
            /*Alert with Toest*/
            if (alertType === "toastr"){
            if (messageType === "success"){
            toastr.success(alertMessage)
            };
            if (messageType === "info"){
            toastr.info(alertMessage)
            };
            if (messageType === "warning"){
            toastr.warning(alertMessage)
            };
            if (messageType === "error"){
            toastr.error(alertMessage)
            };
            }
            };
            /*]]>*/
        </script>
    </head>
    
    <body>
        <div th:fragment="LoginForm">
            <div class="login-logo">
                <a class="mb-2">
<!--                    <img th:src="@{/images/AMBLOGO_FULLCOLOR_RGB.png}" class="img-fluid" style="height: 90px;" />-->
                </a>
                <br/>
                <p>
                    <h4>Authentication Management Engine</h4> Administration, Control, Security
                </p>
            </div>
            <div class="card login-form-effects">
                <div class="card-body login-card-body radius-effects">
                    <p class="login-box-msg">Sign in</p>
                    <form th:action="@{/auth/login}" th:object="${loginPayload}" method="post">
                        <div class="input-group mb-3">
                            <input type="email" class="form-control" placeholder="username" th:field="*{usernameEmail}" />
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-envelope"></span>
                                </div>
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <input type="password" class="form-control" placeholder="password" th:field="*{password}" />
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-lock"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="offset-4 col-4 text-center">
                                <button type="submit" class="btn btn-sm bg-gradient-primary btn-block">Sign In</button>
                            </div>
                        </div>
                    </form>
                    <p class="mb-3 text-center">
                        <a th:href="@{/change/password}">Forgot password ?</a>
                    </p>
                </div>
            </div>
        </div>
        
        <nav class="main-header navbar navbar-expand navbar-white navbar-light" th:fragment="Navbar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                </li>
            </ul>

            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-comments"></i>
                        <span class="badge badge-danger navbar-badge">3</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <a href="#" class="dropdown-item">
                            <div class="media">
                                <img th:src="@{/images/user1-128x128.jpg}" alt="User Avatar" class="img-size-50 mr-3 img-circle" />
                                <div class="media-body">
                                    <h3 class="dropdown-item-title">
                                        Brad Diesel
                                        <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
                                    </h3>
                                    <p class="text-sm">Call me whenever you can...</p>
                                    <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <div class="media">
                                <img th:src="@{/images/user8-128x128.jpg}" alt="User Avatar" class="img-size-50 img-circle mr-3" />
                                <div class="media-body">
                                    <h3 class="dropdown-item-title">
                                        John Pierce
                                        <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span>
                                    </h3>
                                    <p class="text-sm">I got your message bro</p>
                                    <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <div class="media">
                                <img th:src="@{/images/user3-128x128.jpg}" alt="User Avatar" class="img-size-50 img-circle mr-3" />
                                <div class="media-body">
                                    <h3 class="dropdown-item-title">
                                        Nora Silvester
                                        <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span>
                                    </h3>
                                    <p class="text-sm">The subject goes here</p>
                                    <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                </div>
                            </div>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="far fa-bell"></i>
                        <span class="badge badge-warning navbar-badge">15</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                        <span class="dropdown-item dropdown-header">15 Notifications</span>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-envelope mr-2"></i> 4 new messages
                            <span class="float-right text-muted text-sm">3 mins</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-users mr-2"></i> 8 friend requests
                            <span class="float-right text-muted text-sm">12 hours</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-file mr-2"></i> 3 new reports
                            <span class="float-right text-muted text-sm">2 days</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="dropdown" href="#">
                        <i class="fas fa-user"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
<!--                        <span class="dropdown-item dropdown-header" th:text="${userDetails.lastName + ' ' + userDetails.firstName}"></span>-->
                        <div class="dropdown-divider"></div>
                        <a th:href="@{/user/profile}" class="dropdown-item">
                            <i class="fas fa-user mr-2"></i> Profile
                            <span class="float-right text-muted text-sm"></span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-lock mr-2"></i>Password Change Date
                        </a>
                        <div class="dropdown-divider"></div>
                        <form id="logoutForm" th:action="@{/auth/logout}" method="POST">
                            <button type="submit" class="dropdown-item dropdown-footer btn btn-sm btn-primary btn-block">
                                <i class="fas fa-sign-out mr-2"></i>Sign Out
                            </button>
                        </form>
                    </div>
                </li>
            </ul>
        </nav>

        <aside class="main-sidebar sidebar-dark-primary elevation-4"  th:fragment="SideMenu">
            <a th:href="@{/poll}" class="brand-link">
<!--                <img th:src="@{/images/AMBLOGO_FULLCOLOR_RGB.png}" alt="company Logo" class="brand-image" />-->
            </a>

            <div class="sidebar">
                <div class="user-panel mt-2 pb-2 mb-2 d-flex">
                    <div class="info">
                        <h4 class="d-block text-center text-white">Candor</h4>
                    </div>
                </div>
                <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                        <li class="nav-item has-treeview menu-open">
                            <a th:href="@{/setup/dashboard}" class="nav-link active">
                                <i class="nav-icon fas fa-tachometer-alt"></i>
                                <p>
                                    Dashboard
                                    <i class="right fas fa-angle-left"></i>
                                </p>
                            </a>
                        </li>
                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-cogs"></i>
                                <p>
                                    Setup
                                    <i class="fas fa-angle-left right"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a th:href="@{/setup/poll}" class="nav-link">
                                        <i class="fas fa-poll nav-icon"></i>
                                        <p>New Poll</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a th:href="@{/setup/poll-questions/category}" class="nav-link">
                                        <i class="fas fa-layer-group nav-icon"></i>
                                        <p>Poll Question Category</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a th:href="@{/setup/questions}" class="nav-link">
                                        <i class="fas fa-question nav-icon"></i>
                                        <p>Question</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a th:href="@{/setup/candor-entity}" class="nav-link">
                                        <i class="fas fa-user-cog nav-icon"></i>
                                        <p>Candor Entity</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item has-treeview menu-open">
                            <a th:href="@{/setup/generate/poll-link}" class="nav-link">
                                <i class="nav-icon fas fa-link"></i>
                                <p>
                                    Generate Poll Link
                                    <i class="right fas fa-angle-left"></i>
                                </p>
                            </a>
                        </li>
                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-chart-pie"></i>
                                <p>
                                    Reports
                                    <i class="right fas fa-angle-left"></i>
                                </p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a th:href="@{/report}" class="nav-link">
                                        <i class="fas fa-chart-line nav-icon"></i>
                                        <p>Poll Report</p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>

        <nav class="main-header navbar navbar-expand-md navbar-light navbar-white" th:fragment="UserProfileNavbar">
            <div class="container">
                <a th:href="@{/dashboard}" class="navbar-brand">
                    <span class="brand-text font-weight-light">Authentication Engine</span>
                </a>
                <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse order-3" id="navbarCollapse">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
                        </li>
                        <li class="nav-item">
                            <a th:href="@{/setup/poll}" class="nav-link">Home</a>
                        </li>
                    </ul>
                </div>
                <ul class="order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link" data-toggle="dropdown" href="#">
                            <i class="fas fa-comments"></i>
                            <span class="badge badge-danger navbar-badge">3</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                            <a href="#" class="dropdown-item">
                                <div class="media">
                                    <img th:src="@{/images/user1-128x128.jpg}" alt="User Avatar" class="img-size-50 mr-3 img-circle" />
                                    <div class="media-body">
                                        <h3 class="dropdown-item-title">
                                            Brad Diesel
                                            <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
                                        </h3>
                                        <p class="text-sm">Call me whenever you can...</p>
                                        <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <div class="media">
                                    <img th:src="@{/images/user8-128x128.jpg}" alt="User Avatar" class="img-size-50 img-circle mr-3" />
                                    <div class="media-body">
                                        <h3 class="dropdown-item-title">
                                            John Pierce
                                            <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span>
                                        </h3>
                                        <p class="text-sm">I got your message bro</p>
                                        <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <div class="media">
                                    <img th:src="@{/images/user3-128x128.jpg}" alt="User Avatar" class="img-size-50 img-circle mr-3" />
                                    <div class="media-body">
                                        <h3 class="dropdown-item-title">
                                            Nora Silvester
                                            <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span>
                                        </h3>
                                        <p class="text-sm">The subject goes here</p>
                                        <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link" data-toggle="dropdown" href="#">
                            <i class="far fa-bell"></i>
                            <span class="badge badge-warning navbar-badge">15</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                            <span class="dropdown-item dropdown-header">15 Notifications</span>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-envelope mr-2"></i> 4 new messages
                                <span class="float-right text-muted text-sm">3 mins</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-users mr-2"></i> 8 friend requests
                                <span class="float-right text-muted text-sm">12 hours</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-file mr-2"></i> 3 new reports
                                <span class="float-right text-muted text-sm">2 days</span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="dropdown" href="#">
                            <i class="fas fa-user"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                            <span class="dropdown-item dropdown-header" th:text="${userDetails.lastName +' '+ userDetails.firstName}"></span>
                            <div class="dropdown-divider"></div>
                            <a th:href="@{/user/profile}" class="dropdown-item">
                                <i class="fas fa-user mr-2"></i> Profile
                                <span class="float-right text-muted text-sm"></span>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-lock mr-2"></i>Password Change Date
                            </a>
                            <div class="dropdown-divider"></div>
                            <form id="logoutForm" th:action="@{/auth/logout}" method="POST">
                                <button type="submit" class="dropdown-item dropdown-footer btn btn-sm btn-primary btn-block">
                                    <i class="fas fa-sign-out mr-2"></i>Sign Out
                                </button>
                            </form>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <footer class="main-footer" th:fragment="Footer">
            <div class="float-right d-none d-sm-block">
                <b>Version</b> 1.0.0
            </div>
            <strong>Copyright &copy;<script>document.write(new Date().getFullYear());</script> <a href="https://eidevs.com">eidevs.com</a>.</strong> All rights
            reserved.
        </footer>

        <div th:fragment="Scripts1">
            <script th:src="@{/js/jquery.min.js}"></script>
            <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
            <script th:src="@{/js/adminlte.min.js}"></script>
            <script th:src="@{/js/sweetalert2.min.js}"></script>
            <script th:src="@{/js/demo.js}"></script>
        </div>
        
        <div th:fragment="Scripts2">
            <script th:src="@{/js/jquery.min.js}"></script>
            <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
            <script th:src="@{/js/adminlte.min.js}"></script>
            <script th:src="@{/js/sweetalert2.min.js}"></script>
            <script th:src="@{/js/demo.js}"></script>
            <script th:src="@{/js/Chart.min.js}"></script>
        </div>
    </body>
</html>
